// pages/package_feature/print_name/edit.js
const app = getApp()
const regeneratorRuntime = require('../../../lib/co/runtime')
const co = require('../../../lib/co/co')
const _ = require('../../../lib/underscore/we-underscore')
const util = require('../../../utils/util')

import wxNav from '../../../utils/nav.js'
import api from '../../../network/restful_request'

let Loger=(app.apiServer!='https://epbox.gongfudou.com'||app.deBug)?console.log:function(){}

Page({

  data: {
    templateList:[
        {
            "id":3,
            "name":"基础标签",
            "attrs":{
                "姓名":{
                    "x":86,
                    "y":73,
                    "size":81
                }
            },
            "hidden":true,
            "templates":[
                {
                    "id":22,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/25bcac63-1ed9-4a2b-96dd-8dd1b36a2502"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T10:34:29.000+08:00",
                    "updated_at":"2019-07-18T10:34:29.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":23,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/24ec98db-c9b8-480d-9d9d-11d6609f279c"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T10:34:44.000+08:00",
                    "updated_at":"2019-07-18T10:34:44.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":74,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/24291b17-4117-458d-8dde-0e7e2bc166be"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:14:32.000+08:00",
                    "updated_at":"2019-07-18T18:14:32.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":75,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/4924ddce-f3db-4002-b6d1-19953cd7e9a5"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:14:50.000+08:00",
                    "updated_at":"2019-07-18T18:14:50.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":76,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/adaf0c83-e9e6-44e4-943e-f129f03fbaa2"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:15:12.000+08:00",
                    "updated_at":"2019-07-18T18:15:12.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":77,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/bc9a880b-e86c-4110-a936-a25044df1d5a"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:15:32.000+08:00",
                    "updated_at":"2019-07-18T18:15:32.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":78,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/f3fb76e8-5e6b-4a23-a6d0-89bed69e62a0"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:15:45.000+08:00",
                    "updated_at":"2019-07-18T18:15:45.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":79,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/0f0af35d-9d59-4c73-b9c9-ece4b76729ea"
                    },
                    "name_sticker_category_id":3,
                    "created_at":"2019-07-18T18:15:57.000+08:00",
                    "updated_at":"2019-07-18T18:15:57.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                }
            ]
        },
        {
            "id":4,
            "name":"卡通头像",
            "attrs":{
                "姓名":{
                    "x":236,
                    "y":85,
                    "size":68
                }
            },
            "hidden":true,
            "templates":[
                {
                    "id":24,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/59deb61a-e54e-4f3b-ab77-5cc369a92749"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:35:07.000+08:00",
                    "updated_at":"2019-07-18T10:35:07.000+08:00",
                    "area_width":173,
                    "area_height":211,
                    "area_x":22,
                    "area_y":14,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":25,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/975e9249-835f-4a16-8c58-19b81b2054e4"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:35:20.000+08:00",
                    "updated_at":"2019-07-18T10:35:20.000+08:00",
                    "area_width":210,
                    "area_height":212,
                    "area_x":0,
                    "area_y":8,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":26,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/d5bcf9c0-ce68-41bf-a967-cd6f8a599443"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:40:14.000+08:00",
                    "updated_at":"2019-07-18T10:40:14.000+08:00",
                    "area_width":219,
                    "area_height":208,
                    "area_x":4,
                    "area_y":13,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":27,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/dd73baca-f25b-40b5-8b2a-f881eeecbad7"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:40:45.000+08:00",
                    "updated_at":"2019-07-18T17:24:13.000+08:00",
                    "area_width":218,
                    "area_height":222,
                    "area_x":0,
                    "area_y":6,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":28,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/6039551f-d665-4f86-a96c-e531afd16d73"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:41:06.000+08:00",
                    "updated_at":"2019-07-18T10:41:06.000+08:00",
                    "area_width":207,
                    "area_height":195,
                    "area_x":20,
                    "area_y":16,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":29,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/8be0c76e-43d8-49cb-91a9-d10f9b8343a5"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:41:27.000+08:00",
                    "updated_at":"2019-07-18T10:41:27.000+08:00",
                    "area_width":197,
                    "area_height":197,
                    "area_x":13,
                    "area_y":14,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":30,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/83cb8663-03c1-40e3-adb3-15c90d1ec501"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:41:44.000+08:00",
                    "updated_at":"2019-07-18T10:41:44.000+08:00",
                    "area_width":157,
                    "area_height":157,
                    "area_x":29,
                    "area_y":38,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":31,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/a4325a8c-e7cb-478a-8744-3e5c61fea07c"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:41:57.000+08:00",
                    "updated_at":"2019-07-18T10:41:57.000+08:00",
                    "area_width":180,
                    "area_height":179,
                    "area_x":22,
                    "area_y":34,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":32,
                    "name":"9",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/67130d54-8a41-46c1-94dc-e007ca79e8c4"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T10:59:57.000+08:00",
                    "updated_at":"2019-07-18T10:59:57.000+08:00",
                    "area_width":201,
                    "area_height":177,
                    "area_x":24,
                    "area_y":35,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":33,
                    "name":"10",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/365f9f47-3ff6-49f3-9104-c88c51e516a8"
                    },
                    "name_sticker_category_id":4,
                    "created_at":"2019-07-18T11:00:13.000+08:00",
                    "updated_at":"2019-07-18T11:00:13.000+08:00",
                    "area_width":186,
                    "area_height":190,
                    "area_x":3,
                    "area_y":33,
                    "width":531,
                    "height":236,
                    "uploadable":true
                }
            ]
        },
        {
            "id":5,
            "name":"简约姓名",
            "attrs":{
                "姓名":{
                    "x":236,
                    "y":90,
                    "size":55
                }
            },
            "hidden":false,
            "templates":[
                {
                    "id":34,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/42d34910-1509-4e7f-a779-5e641e71b173"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:00:48.000+08:00",
                    "updated_at":"2019-07-18T15:16:29.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":35,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/e8635ad5-5904-4e70-b48c-8c5add207d8e"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:00:59.000+08:00",
                    "updated_at":"2019-07-18T15:16:52.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":36,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/a33b7aaa-0923-485a-aeaa-321196dd72f1"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:02:02.000+08:00",
                    "updated_at":"2019-07-18T15:17:08.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":37,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/a8a8f19c-ce70-4e90-b953-4e7322297368"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:02:22.000+08:00",
                    "updated_at":"2019-07-18T15:17:26.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":38,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/36a84e4b-ed5d-4c25-bebd-0937be62d9a1"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:03:35.000+08:00",
                    "updated_at":"2019-07-18T15:17:39.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":39,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/40edc55c-a355-47c1-8d74-3c16f85ddd05"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:03:56.000+08:00",
                    "updated_at":"2019-07-18T15:17:50.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":40,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/bd223c19-a0e2-42df-88cb-d0f56f3f9432"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:04:22.000+08:00",
                    "updated_at":"2019-07-18T15:18:03.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":41,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/3cb6a391-647d-48f1-a13b-3252d2577dc4"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:04:49.000+08:00",
                    "updated_at":"2019-07-18T15:18:15.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":42,
                    "name":"9",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/2c4879ef-096e-4db4-a8b1-4397dec174da"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:06:54.000+08:00",
                    "updated_at":"2019-07-18T15:18:34.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                },
                {
                    "id":43,
                    "name":"10",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/cb2408a5-1a50-4895-bc3c-d938895a8133"
                    },
                    "name_sticker_category_id":5,
                    "created_at":"2019-07-18T11:07:49.000+08:00",
                    "updated_at":"2019-07-18T15:18:51.000+08:00",
                    "area_width":0,
                    "area_height":0,
                    "area_x":0,
                    "area_y":0,
                    "width":531,
                    "height":236,
                    "uploadable":false
                }
            ]
        },
        {
            "id":6,
            "name":"头像姓名",
            "attrs":{
                "姓名":{
                    "x":332,
                    "y":100,
                    "size":36
                }
            },
            "hidden":false,
            "templates":[
                {
                    "id":44,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/cc9667b2-9797-438e-9abf-6a936efaa072"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:08:42.000+08:00",
                    "updated_at":"2019-07-18T14:22:35.000+08:00",
                    "area_width":186,
                    "area_height":188,
                    "area_x":24,
                    "area_y":28,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":45,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/7e84b2d0-07b0-4634-b04d-2338557ef980"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:08:57.000+08:00",
                    "updated_at":"2019-07-18T11:08:57.000+08:00",
                    "area_width":214,
                    "area_height":191,
                    "area_x":9,
                    "area_y":22,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":46,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/d9259269-f4f1-4a28-97b7-8b91db6dc3f0"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:09:12.000+08:00",
                    "updated_at":"2019-07-18T11:09:12.000+08:00",
                    "area_width":193,
                    "area_height":193,
                    "area_x":20,
                    "area_y":21,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":47,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/a21744bc-229d-45a3-9886-e9f6b39076b4"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:09:24.000+08:00",
                    "updated_at":"2019-07-18T11:09:24.000+08:00",
                    "area_width":179,
                    "area_height":178,
                    "area_x":31,
                    "area_y":28,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":48,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/6ceb9f45-c9ca-473d-a72b-c6e2799b782b"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:09:41.000+08:00",
                    "updated_at":"2019-07-18T11:09:41.000+08:00",
                    "area_width":209,
                    "area_height":210,
                    "area_x":9,
                    "area_y":22,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":49,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/0a3ed189-4db0-4765-88ca-cf67111519aa"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:09:56.000+08:00",
                    "updated_at":"2019-07-18T11:09:56.000+08:00",
                    "area_width":186,
                    "area_height":210,
                    "area_x":13,
                    "area_y":22,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":50,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/1889d2f9-4f36-4b9d-9a63-93c3e8d65625"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:11:47.000+08:00",
                    "updated_at":"2019-07-18T11:11:47.000+08:00",
                    "area_width":163,
                    "area_height":164,
                    "area_x":34,
                    "area_y":34,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":51,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/e68d57ba-c0c6-4302-bb24-aee581957c19"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:12:02.000+08:00",
                    "updated_at":"2019-07-18T11:12:02.000+08:00",
                    "area_width":194,
                    "area_height":216,
                    "area_x":17,
                    "area_y":11,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":52,
                    "name":"9",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/f36efa87-0c0b-462e-b771-6c5b48abb34f"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:12:14.000+08:00",
                    "updated_at":"2019-07-18T11:12:14.000+08:00",
                    "area_width":195,
                    "area_height":195,
                    "area_x":16,
                    "area_y":20,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":53,
                    "name":"10",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/7e35d5b3-f955-4e47-b70e-32fdb25a99a9"
                    },
                    "name_sticker_category_id":6,
                    "created_at":"2019-07-18T11:12:26.000+08:00",
                    "updated_at":"2019-07-18T11:12:26.000+08:00",
                    "area_width":225,
                    "area_height":225,
                    "area_x":2,
                    "area_y":6,
                    "width":531,
                    "height":236,
                    "uploadable":true
                }
            ]
        },
        {
            "id":7,
            "name":"姓名班级",
            "attrs":{
                "姓名":{
                    "x":319,
                    "y":58,
                    "size":38
                },
                "班级":{
                    "x":319,
                    "y":130,
                    "size":37
                }
            },
            "hidden":false,
            "templates":[
                {
                    "id":54,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/d1bba622-7429-4504-b837-888ea9ec92f3"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:42:09.000+08:00",
                    "updated_at":"2019-07-18T18:50:05.000+08:00",
                    "area_width":168,
                    "area_height":172,
                    "area_x":31,
                    "area_y":32,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":55,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/d47d8b29-6195-42bb-a357-2ad247630b6a"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:43:15.000+08:00",
                    "updated_at":"2019-07-18T18:50:41.000+08:00",
                    "area_width":170,
                    "area_height":150,
                    "area_x":29,
                    "area_y":43,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":56,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/be56110b-8fed-4b31-9c23-99e4eb878245"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:43:35.000+08:00",
                    "updated_at":"2019-07-18T18:50:54.000+08:00",
                    "area_width":212,
                    "area_height":212,
                    "area_x":13,
                    "area_y":12,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":57,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/45bc828e-34c3-4ab2-b9fd-02618234e5bb"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:45:59.000+08:00",
                    "updated_at":"2019-07-18T18:51:07.000+08:00",
                    "area_width":202,
                    "area_height":202,
                    "area_x":17,
                    "area_y":17,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":58,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/55458771-a604-4ecc-abea-5497dffd9580"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:46:15.000+08:00",
                    "updated_at":"2019-07-18T18:51:21.000+08:00",
                    "area_width":191,
                    "area_height":191,
                    "area_x":32,
                    "area_y":12,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":59,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/0fb94b51-7f49-4e96-9e33-ec138765912e"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:46:31.000+08:00",
                    "updated_at":"2019-07-18T18:51:37.000+08:00",
                    "area_width":217,
                    "area_height":196,
                    "area_x":9,
                    "area_y":18,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":60,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/8d5d3a97-a26d-41f6-b606-5c4d4d848a20"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:46:42.000+08:00",
                    "updated_at":"2019-07-18T18:51:50.000+08:00",
                    "area_width":195,
                    "area_height":159,
                    "area_x":29,
                    "area_y":38,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":61,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/e95c66f6-c619-4582-ad1b-3efb9c4128b1"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:46:54.000+08:00",
                    "updated_at":"2019-07-18T18:52:04.000+08:00",
                    "area_width":177,
                    "area_height":167,
                    "area_x":22,
                    "area_y":31,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":62,
                    "name":"9",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/a47adbf6-ed2d-469d-a652-d9051a71820e"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:47:07.000+08:00",
                    "updated_at":"2019-07-18T18:52:19.000+08:00",
                    "area_width":173,
                    "area_height":174,
                    "area_x":51,
                    "area_y":31,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":63,
                    "name":"10",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/e52980c9-db8a-46b8-af2c-9d9b263ac1a7"
                    },
                    "name_sticker_category_id":7,
                    "created_at":"2019-07-18T11:47:20.000+08:00",
                    "updated_at":"2019-07-18T18:52:33.000+08:00",
                    "area_width":184,
                    "area_height":146,
                    "area_x":30,
                    "area_y":41,
                    "width":531,
                    "height":236,
                    "uploadable":true
                }
            ]
        },
        {
            "id":8,
            "name":"姓名电话",
            "attrs":{
                "姓名":{
                    "x":319,
                    "y":58,
                    "size":38
                },
                "电话":{
                    "x":319,
                    "y":136,
                    "size":26
                }
            },
            "hidden":false,
            "templates":[
                {
                    "id":64,
                    "name":"1",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/be1e4ac2-095d-4f81-b3bf-8df3012ccd8a"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:47:55.000+08:00",
                    "updated_at":"2019-07-18T19:49:47.000+08:00",
                    "area_width":194,
                    "area_height":226,
                    "area_x":10,
                    "area_y":4,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":65,
                    "name":"2",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/f22d95fc-ace2-408c-9b14-911245f68424"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:51:17.000+08:00",
                    "updated_at":"2019-07-18T19:51:55.000+08:00",
                    "area_width":210,
                    "area_height":168,
                    "area_x":10,
                    "area_y":57,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":66,
                    "name":"3",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/70d3f739-7307-4b5f-b2ed-bce3588dcc54"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:51:46.000+08:00",
                    "updated_at":"2019-07-18T19:53:03.000+08:00",
                    "area_width":188,
                    "area_height":188,
                    "area_x":19,
                    "area_y":25,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":67,
                    "name":"4",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/724fdec3-a56f-4f11-8d68-df68e01de740"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:52:04.000+08:00",
                    "updated_at":"2019-07-18T19:54:17.000+08:00",
                    "area_width":205,
                    "area_height":198,
                    "area_x":11,
                    "area_y":11,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":68,
                    "name":"5",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/7665db78-1a42-455f-a8c7-3698ab1f7f50"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:52:31.000+08:00",
                    "updated_at":"2019-07-18T19:55:53.000+08:00",
                    "area_width":185,
                    "area_height":185,
                    "area_x":20,
                    "area_y":25,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":69,
                    "name":"6",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/44255531-d500-497d-83b2-1d92864024ee"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T11:53:21.000+08:00",
                    "updated_at":"2019-07-18T19:56:11.000+08:00",
                    "area_width":200,
                    "area_height":200,
                    "area_x":15,
                    "area_y":18,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":70,
                    "name":"7",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/8768ec82-a377-4403-ad0b-d07f11001619"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T12:02:47.000+08:00",
                    "updated_at":"2019-07-18T19:57:48.000+08:00",
                    "area_width":196,
                    "area_height":196,
                    "area_x":18,
                    "area_y":20,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":71,
                    "name":"8",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/57d7c784-ccf6-4c9e-8cc6-9d302ec97a91"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T12:07:09.000+08:00",
                    "updated_at":"2019-07-18T20:01:10.000+08:00",
                    "area_width":185,
                    "area_height":167,
                    "area_x":19,
                    "area_y":34,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":72,
                    "name":"9",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/fc59b5ba-aa8d-4140-8890-45b2d726ba45"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T12:07:23.000+08:00",
                    "updated_at":"2019-07-18T20:01:26.000+08:00",
                    "area_width":183,
                    "area_height":186,
                    "area_x":14,
                    "area_y":27,
                    "width":531,
                    "height":236,
                    "uploadable":true
                },
                {
                    "id":73,
                    "name":"10",
                    "image":{
                        "url":"https://cdn-h.gongfudou.com/epbox/backend/d4136b60-9487-4aac-82d7-dd6bbca60e91"
                    },
                    "name_sticker_category_id":8,
                    "created_at":"2019-07-18T12:07:35.000+08:00",
                    "updated_at":"2019-07-18T20:01:42.000+08:00",
                    "area_width":169,
                    "area_height":154,
                    "area_x":28,
                    "area_y":42,
                    "width":531,
                    "height":236,
                    "uploadable":true
                }
            ]
        }
    ],
    templateTypeIndex:0,
    templateIndex:0,

    templateInfo:{},
    paperSize:{},
  },

  onLoad: function (options) {
    this.getnameAttr(this.data.templateList)
    this.checkTemplateType(0)
  },

  checkTemplateType:function(e){
    let index=e.currentTarget?e.currentTarget.dataset.index:e
    this.setData({
      templateTypeIndex:index
    })
    this.checkTemplate(0)
  },

  checkTemplate:function(e){
    let index=e.currentTarget?e.currentTarget.dataset.index:e
    this.setData({
      templateIndex:index
    })
    this.inputVal=Array(this.data.templateList[this.data.templateTypeIndex].nameArr.length).fill('')
    this.setComponentData()
  },

  getnameAttr:function(arrs){
    _.each(arrs,function(value,index,list){
      list[index].nameArr=Object.keys(value.attrs);

    })
    this.setData({
      templateList:arrs
    })
  },

  setComponentData:function(){
    let templateItem=this.data.templateList[this.data.templateTypeIndex].templates[this.data.templateIndex]
    this.setData({
      templateInfo:{
        modeSrc:templateItem.image.url,
        modeSize:{
          x:templateItem.area_x,
          y:templateItem.area_y,
          areaWidth:templateItem.area_width,
          areaHeight:templateItem.area_height
        }
      },
      paperSize:{
        width:templateItem.width,
        height:templateItem.height,
        minLeftHeight:516,
        sider:150,
      }
    })
  },

  getTextAttr:function(e){
    console.log(e)
    let index=e.currentTarget.dataset.index
    this.inputVal[index]=e.detail.value
  },

  getParamsData:function(){
    let params={}
    let templateItem=this.data.templateList[this.data.templateTypeIndex].templates[this.data.templateIndex]
    if(templateItem.uploadable){
      if(_.isEmpty(this.selectComponent("#mymulti").data.imgArr)){
        return wx.showModal({
          title: '提示',
          content: '请上传头像',
          showCancel: false,
          confirmColor: '#FFE27A'
        })
      }
      params=this.selectComponent("#mymulti").getImgPoint()[0]
    }
    console.log(this.data.templateList[this.data.templateTypeIndex].nameArr,this.inputVal)
    let inputVal=_.object(this.data.templateList[this.data.templateTypeIndex].nameArr,this.inputVal)
    params=_.extend(params,inputVal)
    console.log(params)
    wxNav.navigateTo('/pages/package_feature/print_name/preview',{
      imgSrc:encodeURIComponent(JSON.stringify('https://cdn-h.gongfudou.com/epbox/pciup/833508e5-a53b-4800-807b-ce21b4938951.jpg?x-image-process=image/resize,h_800/quality,Q_85/format,jpg/marker,u_plus')),
      mediaType:'name',
      sn:'123'
    })
  }
})
