<nav-bar background="#fff" title="练习" />

<wxs module="util">
	var showImages = function(isMember, images) {
		return isMember ? images : images && images.slice(0,1) || []
	}

	var showLen = function(isMember, images) {
		return isMember && images ? images && images.length : 1
	}


	module.exports = {
		showImages: showImages,
		showLen: showLen
	};
</wxs>
<view class="preview-main">
	<swiper class="swpier-box" bindchange="changeImg" wx:if="{{isPrintAnswer && exercise}}">
		<swiper-item
		 wx:for="{{util.showImages(isSchoolAgeMember, exercise.answerImages)}}"
		 wx:key="nameUrl"
		>
			<image class="img-item" src="{{item.nameUrl}}?x-image-process=image/watermark,image_L21pY3JvL0xldmlhdGhhbi9iYWNrZW5kL3dhdGVybWFya2VyLnBuZw==,g_center/resize,w_700" mode="widthFix" />
		</swiper-item>
	</swiper>

	<swiper class="swpier-box" bindchange="changeImg" wx:else>
		<swiper-item
		 class=""
		 wx:for="{{util.showImages(isSchoolAgeMember, exercise.images)}}"
		 wx:key="nameUrl"
		>
			<image class="img-item" src="{{item.nameUrl}}?x-image-process=image/watermark,image_L21pY3JvL0xldmlhdGhhbi9iYWNrZW5kL3dhdGVybWFya2VyLnBuZw==,g_center/resize,w_700" mode="widthFix" />
		</swiper-item>
	</swiper>
	<view class="precent">{{currentIndex}}/{{!isPrintAnswer ? util.showLen(exercise.images) : util.showLen(exercise.answerImages)}}</view>

	<image src="../../images/member_preview.png" class="member-card" mode="widthFix" />
	<view class="btn-bottom">
		<view class="print-answer" bind:tap="checkAnswer" wx:if="{{!isHidePrintAnswerBtn}}">
			<image class="check-on" src="{{isPrintAnswer ? '../../images/check_on.png' : '../../images/check_off.png'}}" />
			<view class="title">打印答案</view>
		</view>
		<view bind:tap="confirm" class="confirm-print">确认打印</view>
	</view>
</view>

<!-- 会员开通弹窗 -->
<showMemberToast id="memberToast" bind:tap="toMember" memberToast="{{memberToast}}"/>

<import src="../../../../lib/toast/wetoast.wxml" />
<template is="wetoast" data="{{...__wetoast__}}" />

